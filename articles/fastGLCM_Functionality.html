<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Functionality of the fastGLCM R package • fastGLCM</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Functionality of the fastGLCM R package">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fastGLCM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/fastGLCM_Functionality.html">Functionality of the fastGLCM R package</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlampros/fastGLCM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Functionality of the fastGLCM R package</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mlampros/fastGLCM/blob/master/vignettes/fastGLCM_Functionality.Rmd" class="external-link"><code>vignettes/fastGLCM_Functionality.Rmd</code></a></small>
      <div class="d-none name"><code>fastGLCM_Functionality.Rmd</code></div>
    </div>

    
    
<p>The <strong>fastGLCM</strong> R package is an <em>RcppArmadillo</em>
implementation of the Python Code for <em>Fast Gray-Level Co-Occurrence
Matrix by numpy</em>,</p>
<ul>
<li><a href="https://github.com/tzm030329/GLCM" class="external-link">Github repository of the
Python code</a></li>
<li>“Artifact-Free Thin Cloud Removal Using Gans” by Toizumi, Takahiro
and Zini, Simone and Sagi, Kazutoshi and Kaneko, Eiji and Tsukada,
Masato and Schettini, Raimondo in IEEE International Conference on Image
Processing (ICIP), pp. 3596-3600, 2019, <a href="https://doi.org/10.1109/ICIP.2019.8803652" class="external-link uri">https://doi.org/10.1109/ICIP.2019.8803652</a>
</li>
</ul>
<p>This vignette shows how to use the Rcpp Armadillo version of the
<em>fastGLCM</em> R package.</p>
<p>The python version works similarly and is included as an R6 class
(see the documentation of <em>fastglcm</em>). However, it requires a
python configuration in the user’s operating system and additionally the
installation of the <a href="https://github.com/rstudio/reticulate" class="external-link">reticulate</a> R
package.</p>
<p><br></p>
<p>For the theoretical background of the <em>Gray-Level Co-Occurrence
Matrix Textures</em> the user can consult an <em>existing Tutorial of
the University of Calgary</em>
(<code>https://prism.ucalgary.ca/bitstream/handle/1880/51900/texture%20tutorial%20v%203_0%20180206.pdf</code>).</p>
<p><br></p>
<div class="section level2">
<h2 id="sample-satellite-imagery">Sample Satellite Imagery<a class="anchor" aria-label="anchor" href="#sample-satellite-imagery"></a>
</h2>
<p><br></p>
<p>The <em>fastGLCM</em> R package includes an <em>ALOS-3 simulation
image</em> from JAXA (Japan Aerospace Exploration Agency) in compressed
format (.zip) around Joso City, Ibaraki Prefecture from September 11,
2015, that will be used in this vignette for illustration purposes.</p>
<p>Both <em>fastGLCM</em> versions of the R package take a 2-dimensional
object as input (numeric matrix) and it is required that the range of
pixel values are between 0 and 255,</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mlampros/fastGLCM" class="external-link">fastGLCM</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: fastGLCM</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mlampros/OpenImageR" class="external-link">OpenImageR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: OpenImageR</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">utils</span><span class="op">)</span></span>
<span></span>
<span><span class="va">temp_dir</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span>check <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co"># temp_dir</span></span>
<span></span>
<span><span class="va">zip_file</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'images'</span>, <span class="st">'JAXA_Joso-City2_PAN.tif.zip'</span>, package <span class="op">=</span> <span class="st">"fastGLCM"</span><span class="op">)</span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">unzip</a></span><span class="op">(</span><span class="va">zip_file</span>, exdir <span class="op">=</span> <span class="va">temp_dir</span><span class="op">)</span></span>
<span><span class="va">path_extracted</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">temp_dir</span>, <span class="st">'JAXA_Joso-City2_PAN.tif'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">im</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/OpenImageR/man/readImage.html" class="external-link">readImage</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">path_extracted</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">im</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1555 1414</span></span></code></pre></div>
<p><br></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/OpenImageR/man/imageShow.html" class="external-link">imageShow</a></span><span class="op">(</span><span class="va">im</span><span class="op">)</span></span></code></pre></div>
<p><img src="fastGLCM_Functionality_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p><br></p>
<p>To decrease the computation time the initial width and height will be
reduced to 500,</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#....................................................</span></span>
<span><span class="co"># the pixel values will be adjusted between 0 and 255</span></span>
<span><span class="co">#....................................................</span></span>
<span></span>
<span><span class="va">im</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/OpenImageR/man/resizeImage.html" class="external-link">resizeImage</a></span><span class="op">(</span><span class="va">im</span>, <span class="fl">500</span>, <span class="fl">500</span>, <span class="st">'nearest'</span><span class="op">)</span></span>
<span><span class="va">im</span> <span class="op">=</span> <span class="fu">OpenImageR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/OpenImageR/man/norm_matrix_range.html" class="external-link">norm_matrix_range</a></span><span class="op">(</span><span class="va">im</span>, <span class="fl">0</span>, <span class="fl">255</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#---------------------------------</span></span>
<span><span class="co"># computation of all GLCM features</span></span>
<span><span class="co">#---------------------------------</span></span>
<span></span>
<span><span class="va">methods</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'mean'</span>,</span>
<span>            <span class="st">'std'</span>,</span>
<span>            <span class="st">'contrast'</span>,</span>
<span>            <span class="st">'dissimilarity'</span>,</span>
<span>            <span class="st">'homogeneity'</span>,</span>
<span>            <span class="st">'ASM'</span>,</span>
<span>            <span class="st">'energy'</span>,</span>
<span>            <span class="st">'max'</span>,</span>
<span>            <span class="st">'entropy'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">res_glcm</span> <span class="op">=</span> <span class="fu"><a href="../reference/fastGLCM_Rcpp.html">fastGLCM_Rcpp</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">im</span>,</span>
<span>                         methods <span class="op">=</span> <span class="va">methods</span>,</span>
<span>                         levels <span class="op">=</span> <span class="fl">8</span>,</span>
<span>                         kernel_size <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                         distance <span class="op">=</span> <span class="fl">1.0</span>,</span>
<span>                         angle <span class="op">=</span> <span class="fl">0.0</span>,</span>
<span>                         threads <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                         verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Elapsed time: 0 hours and 0 minutes and 0 seconds.</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">path_extracted</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.remove</a></span><span class="op">(</span><span class="va">path_extracted</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">res_glcm</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 9</span></span>
<span><span class="co">#&gt;  $ mean         : num [1:500, 1:500] 0.578 0.766 0.953 0.938 0.938 ...</span></span>
<span><span class="co">#&gt;  $ std          : num [1:500, 1:500] 28.3 40 51.8 59.5 59.5 ...</span></span>
<span><span class="co">#&gt;  $ contrast     : num [1:500, 1:500] 2 2 2 0 0 1 2 4 4 4 ...</span></span>
<span><span class="co">#&gt;  $ dissimilarity: num [1:500, 1:500] 2 2 2 0 0 1 2 4 4 4 ...</span></span>
<span><span class="co">#&gt;  $ homogeneity  : num [1:500, 1:500] 8 11 14 15 15 14.5 14 13 13 13 ...</span></span>
<span><span class="co">#&gt;  $ ASM          : num [1:500, 1:500] 51 102 171 225 225 147 107 73 73 73 ...</span></span>
<span><span class="co">#&gt;  $ energy       : num [1:500, 1:500] 7.14 10.1 13.08 15 15 ...</span></span>
<span><span class="co">#&gt;  $ max          : num [1:500, 1:500] 7 10 13 15 15 12 10 8 8 8 ...</span></span>
<span><span class="co">#&gt;  $ entropy      : num [1:500, 1:500] 8.59 8.49 8.42 8.07 8.07 ...</span></span></code></pre></div>
<p><br></p>
<p>The output matrices based on the selected methods (<em>mean</em>,
<em>std</em>, <em>contrast</em>, <em>dissimilarity</em>,
<em>homogeneity</em>, <em>ASM</em>, <em>energy</em>, <em>max</em>,
<em>entropy</em>) can be visualized in a multi-plot,</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/plot_multi_images.html">plot_multi_images</a></span><span class="op">(</span>list_images <span class="op">=</span> <span class="va">res_glcm</span>,</span>
<span>                  par_ROWS <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                  par_COLS <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                  titles <span class="op">=</span> <span class="va">methods</span><span class="op">)</span></span></code></pre></div>
<p><img src="multiplot.png" width="900" height="560"></p>
<p><br></p>
<p><strong>Credits:</strong></p>
<ul>
<li>The <a href="https://www.eorc.jaxa.jp/ALOS/en/alos-3/datause/a3_simulation_e.htm" class="external-link">ALOS-3
simulation image</a> is based on the sample product provided by JAXA.
Please, read the <a href="https://earth.jaxa.jp/en/data/policy/" class="external-link">terms
of use for this sample product</a>
</li>
</ul>
<p><br></p>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lampros Mouselimis.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
