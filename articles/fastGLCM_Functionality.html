<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Functionality of the fastGLCM R package • fastGLCM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Functionality of the fastGLCM R package">
<meta property="og:description" content="fastGLCM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fastGLCM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fastGLCM_Functionality.html">Functionality of the fastGLCM R package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mlampros/fastGLCM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="fastGLCM_Functionality_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Functionality of the fastGLCM R package</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mlampros/fastGLCM/blob/HEAD/vignettes/fastGLCM_Functionality.Rmd" class="external-link"><code>vignettes/fastGLCM_Functionality.Rmd</code></a></small>
      <div class="hidden name"><code>fastGLCM_Functionality.Rmd</code></div>

    </div>

    
    
<p>The <strong>fastGLCM</strong> R package is an <em>RcppArmadillo</em> implementation of the Python Code for <em>Fast Gray-Level Co-Occurrence Matrix by numpy</em>,</p>
<ul>
<li><a href="https://github.com/tzm030329/GLCM" class="external-link">Github repository of the Python code</a></li>
<li>“Artifact-Free Thin Cloud Removal Using Gans” by Toizumi, Takahiro and Zini, Simone and Sagi, Kazutoshi and Kaneko, Eiji and Tsukada, Masato and Schettini, Raimondo in IEEE International Conference on Image Processing (ICIP), pp. 3596-3600, 2019, <a href="https://doi.org/10.1109/ICIP.2019.8803652" class="external-link uri">https://doi.org/10.1109/ICIP.2019.8803652</a>
</li>
</ul>
<p>This vignette shows how to use the Rcpp Armadillo version of the <em>fastGLCM</em> R package.</p>
<p>The python version works similarly and is included as an R6 class (see the documentation of <em>fastglcm</em>). However, it requires a python configuration in the user’s operating system and additionally the installation of the <a href="https://github.com/rstudio/reticulate" class="external-link">reticulate</a> R package.</p>
<p><br></p>
<p>For the theoretical background of the <em>Gray-Level Co-Occurrence Matrix Textures</em> the user can consult an <a href="https://prism.ucalgary.ca/bitstream/handle/1880/51900/texture%20tutorial%20v%203_0%20180206.pdf" class="external-link">existing Tutorial of the University of Calgary</a>.</p>
<p><br></p>
<div class="section level2">
<h2 id="sample-satellite-imagery">Sample Satellite Imagery<a class="anchor" aria-label="anchor" href="#sample-satellite-imagery"></a>
</h2>
<p><br></p>
<p>The <em>fastGLCM</em> R package includes an <em>ALOS-3 simulation image</em> from JAXA (Japan Aerospace Exploration Agency) in compressed format (.zip) around Joso City, Ibaraki Prefecture from September 11, 2015, that will be used in this vignette for illustration purposes.</p>
<p>Both <em>fastGLCM</em> versions of the R package take a 2-dimensional object as input (numeric matrix) and it is required that the range of pixel values are between 0 and 255,</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mlampros/fastGLCM" class="external-link">fastGLCM</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: fastGLCM</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mlampros/OpenImageR" class="external-link">OpenImageR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: OpenImageR</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">utils</span><span class="op">)</span></span>
<span></span>
<span><span class="va">temp_dir</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span>check <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co"># temp_dir</span></span>
<span></span>
<span><span class="va">zip_file</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'images'</span>, <span class="st">'JAXA_Joso-City2_PAN.tif.zip'</span>, package <span class="op">=</span> <span class="st">"fastGLCM"</span><span class="op">)</span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">unzip</a></span><span class="op">(</span><span class="va">zip_file</span>, exdir <span class="op">=</span> <span class="va">temp_dir</span><span class="op">)</span></span>
<span><span class="va">path_extracted</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">temp_dir</span>, <span class="st">'JAXA_Joso-City2_PAN.tif'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">im</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/OpenImageR/man/readImage.html" class="external-link">readImage</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">path_extracted</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">im</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1555 1414</span></span></code></pre></div>
<p><br></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/OpenImageR/man/imageShow.html" class="external-link">imageShow</a></span><span class="op">(</span><span class="va">im</span><span class="op">)</span></span></code></pre></div>
<p><img src="fastGLCM_Functionality_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p><br></p>
<p>To decrease the computation time the initial width and height will be reduced to 500,</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#....................................................</span></span>
<span><span class="co"># the pixel values will be adjusted between 0 and 255</span></span>
<span><span class="co">#....................................................</span></span>
<span></span>
<span><span class="va">im</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/OpenImageR/man/resizeImage.html" class="external-link">resizeImage</a></span><span class="op">(</span><span class="va">im</span>, <span class="fl">500</span>, <span class="fl">500</span>, <span class="st">'nearest'</span><span class="op">)</span></span>
<span><span class="va">im</span> <span class="op">=</span> <span class="fu">OpenImageR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/OpenImageR/man/norm_matrix_range.html" class="external-link">norm_matrix_range</a></span><span class="op">(</span><span class="va">im</span>, <span class="fl">0</span>, <span class="fl">255</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#---------------------------------</span></span>
<span><span class="co"># computation of all GLCM features</span></span>
<span><span class="co">#---------------------------------</span></span>
<span></span>
<span><span class="va">methods</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'mean'</span>,</span>
<span>            <span class="st">'std'</span>,</span>
<span>            <span class="st">'contrast'</span>,</span>
<span>            <span class="st">'dissimilarity'</span>,</span>
<span>            <span class="st">'homogeneity'</span>,</span>
<span>            <span class="st">'ASM'</span>,</span>
<span>            <span class="st">'energy'</span>,</span>
<span>            <span class="st">'max'</span>,</span>
<span>            <span class="st">'entropy'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">res_glcm</span> <span class="op">=</span> <span class="fu"><a href="../reference/fastGLCM_Rcpp.html">fastGLCM_Rcpp</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">im</span>,</span>
<span>                         methods <span class="op">=</span> <span class="va">methods</span>,</span>
<span>                         levels <span class="op">=</span> <span class="fl">8</span>,</span>
<span>                         kernel_size <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                         distance <span class="op">=</span> <span class="fl">1.0</span>,</span>
<span>                         angle <span class="op">=</span> <span class="fl">0.0</span>,</span>
<span>                         threads <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                         verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Elapsed time: 0 hours and 0 minutes and 2 seconds.</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">path_extracted</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.remove</a></span><span class="op">(</span><span class="va">path_extracted</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">res_glcm</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 9</span></span>
<span><span class="co">#&gt;  $ mean         : num [1:500, 1:500] 0.578 0.766 0.953 0.938 0.938 ...</span></span>
<span><span class="co">#&gt;  $ std          : num [1:500, 1:500] 28.3 40 51.8 59.5 59.5 ...</span></span>
<span><span class="co">#&gt;  $ contrast     : num [1:500, 1:500] 2 2 2 0 0 1 2 4 4 4 ...</span></span>
<span><span class="co">#&gt;  $ dissimilarity: num [1:500, 1:500] 2 2 2 0 0 1 2 4 4 4 ...</span></span>
<span><span class="co">#&gt;  $ homogeneity  : num [1:500, 1:500] 8 11 14 15 15 14.5 14 13 13 13 ...</span></span>
<span><span class="co">#&gt;  $ ASM          : num [1:500, 1:500] 51 102 171 225 225 147 107 73 73 73 ...</span></span>
<span><span class="co">#&gt;  $ energy       : num [1:500, 1:500] 7.14 10.1 13.08 15 15 ...</span></span>
<span><span class="co">#&gt;  $ max          : num [1:500, 1:500] 7 10 13 15 15 12 10 8 8 8 ...</span></span>
<span><span class="co">#&gt;  $ entropy      : num [1:500, 1:500] 8.59 8.49 8.42 8.07 8.07 ...</span></span></code></pre></div>
<p><br></p>
<p>The output matrices based on the selected methods (<em>mean</em>, <em>std</em>, <em>contrast</em>, <em>dissimilarity</em>, <em>homogeneity</em>, <em>ASM</em>, <em>energy</em>, <em>max</em>, <em>entropy</em>) can be visualized in a multi-plot,</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/plot_multi_images.html">plot_multi_images</a></span><span class="op">(</span>list_images <span class="op">=</span> <span class="va">res_glcm</span>,</span>
<span>                  par_ROWS <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                  par_COLS <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                  titles <span class="op">=</span> <span class="va">methods</span><span class="op">)</span></span></code></pre></div>
<p><img src="multiplot.png" width="900" height="560"></p>
<p><br></p>
<p><strong>Credits:</strong></p>
<ul>
<li>The <a href="https://www.eorc.jaxa.jp/ALOS/en/alos-3/datause/a3_simulation_e.htm" class="external-link">ALOS-3 simulation image</a> is based on the sample product provided by JAXA. Please, read the <a href="https://earth.jaxa.jp/en/data/policy/" class="external-link">terms of use for this sample product</a>
</li>
</ul>
<p><br></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Lampros Mouselimis.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
